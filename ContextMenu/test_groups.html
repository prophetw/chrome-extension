<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试分组搜索功能</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .test-text {
            padding: 10px;
            margin: 10px 0;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            user-select: text;
        }
        .test-text:hover {
            background: #f0f8ff;
        }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
        h1, h2 {
            color: #333;
        }
        code {
            background: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>分组搜索功能测试页面</h1>
    
    <div class="instructions">
        <h3>📋 测试说明</h3>
        <ol>
            <li>确保已在Chrome中加载了扩展</li>
            <li>右键点击下面的测试文本</li>
            <li>应该能看到按分组组织的搜索菜单</li>
            <li>测试"同时搜索"功能</li>
            <li>在扩展设置中管理分组和搜索引擎</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>🎬 影视搜索测试</h2>
        <p>选择下面的电影名称，右键应该看到"影视搜索"分组：</p>
        <div class="test-text">肖申克的救赎</div>
        <div class="test-text">阿甘正传</div>
        <div class="test-text">泰坦尼克号</div>
        <div class="test-text">星际穿越</div>
    </div>

    <div class="test-section">
        <h2>📈 股票查询测试</h2>
        <p>选择下面的股票代码或公司名，右键应该看到"股票查询"分组：</p>
        <div class="test-text">苹果公司</div>
        <div class="test-text">特斯拉</div>
        <div class="test-text">AAPL</div>
        <div class="test-text">比亚迪</div>
        <div class="test-text">000001</div>
    </div>

    <div class="test-section">
        <h2>🔍 通用搜索测试</h2>
        <p>选择下面的一般搜索词，右键应该看到"通用搜索"分组：</p>
        <div class="test-text">人工智能</div>
        <div class="test-text">Chrome扩展开发</div>
        <div class="test-text">JavaScript教程</div>
        <div class="test-text">如何学习编程</div>
    </div>

    <div class="test-section">
        <h2>🔧 功能测试清单</h2>
        <h3>基本功能：</h3>
        <ul>
            <li>✅ 右键菜单显示"自定义搜索"</li>
            <li>✅ 搜索引擎按分组显示</li>
            <li>✅ 点击单个搜索引擎能正常跳转</li>
            <li>✅ "同时搜索XX分组"功能正常工作</li>
        </ul>
        
        <h3>分组批量搜索：</h3>
        <ul>
            <li>✅ 能看到"同时搜索影视搜索"选项</li>
            <li>✅ 能看到"同时搜索股票查询"选项</li>
            <li>✅ 批量搜索会同时打开该分组的所有搜索引擎</li>
        </ul>
        
        <h3>设置管理：</h3>
        <ul>
            <li>✅ 能够添加/删除自定义分组</li>
            <li>✅ 能够添加/删除搜索引擎</li>
            <li>✅ 能够切换搜索引擎的分组</li>
            <li>✅ 能够启用/禁用分组和搜索引擎</li>
            <li>✅ 分组批量搜索设置正常工作</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>🎯 使用场景示例</h2>
        <h3>电影爱好者：</h3>
        <p>想搜索一部电影 <code>"星际穿越"</code>：</p>
        <ul>
            <li>单个搜索：右键 → "影视搜索" → "豆瓣电影"或"IMDb"</li>
            <li>批量搜索：右键 → "同时搜索影视搜索"（会同时在豆瓣和IMDb中搜索）</li>
        </ul>
        
        <h3>投资者：</h3>
        <p>想查询股票 <code>"特斯拉"</code>：</p>
        <ul>
            <li>单个搜索：右键 → "股票查询" → "东方财富股票"</li>
            <li>批量搜索：右键 → "同时搜索股票查询"（会在该分组的所有股票网站中搜索）</li>
        </ul>
        
        <h3>研究人员：</h3>
        <p>想搜索技术资料 <code>"人工智能"</code>：</p>
        <ul>
            <li>单个搜索：右键 → "通用搜索" → "Google搜索"</li>
            <li>如果设置了通用搜索的批量搜索：右键 → "同时搜索通用搜索"</li>
        </ul>
    </div>

    <script>
        // 高亮选中的文本
        document.addEventListener('mouseup', function() {
            const selection = window.getSelection();
            if (selection.toString().length > 0) {
                console.log('已选中文本:', selection.toString());
            }
        });
        
        // 为测试文本添加选中效果
        document.querySelectorAll('.test-text').forEach(element => {
            element.addEventListener('click', function() {
                // 选中整个文本
                const range = document.createRange();
                range.selectNodeContents(this);
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
            });
        });
    </script>
</body>
</html>
